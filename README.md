# 双刷电机控制器

这是一个基于Electron的跨平台GUI应用程序，用于控制双刷电机控制器设备。该应用提供了直观的用户界面，可以轻松配置和控制设备的各种参数和功能。

## 功能特点

- **串口通信**：自动检测可用串口，支持多种波特率
- **电机控制**：精确控制两个电机的PWM值（-100%至+100%）
- **参数配置**：
  - PWM频率调节（低/中/高）
  - 旋转方向控制（正常/反向）
  - 衰减模式设置（开启/关闭）
  - 混控模式设置（开启/关闭）
- **实时监控**：通信日志实时显示，便于调试
- **紧急停止**：一键停止所有电机运行

## 安装指南

### 系统要求

- Windows 7或更高版本
- macOS 10.11或更高版本
- Linux（Ubuntu 16.04或更高版本）

### 从源代码构建

1. 确保已安装Node.js（推荐v16或更高版本）

2. 克隆仓库并安装依赖：

```bash
git clone https://github.com/your-username/dual-brushed-motor-controller.git
cd dual-brushed-motor-controller
npm install
```

3. 启动应用：

```bash
npm start
```

4. 构建可执行文件：

```bash
# Windows
npm run build:win

# macOS
npm run build:mac

# Linux
npm run build:linux
```

## 使用说明

### 连接设备

1. 启动应用程序
2. 在左侧面板中选择正确的串口和波特率（默认115200）
3. 点击"连接"按钮
4. 连接成功后，状态指示器将变为绿色

### 控制电机

- 使用滑块调节电机速度和方向
- 使用预设按钮快速设置常用速度
- 紧急情况下，点击"紧急停止"按钮立即停止所有电机

### 配置参数

1. 在中间面板中选择所需的参数设置
2. 点击对应的"应用"按钮将设置发送到设备

## 通信协议

应用使用以下命令格式与设备通信：

```
命令格式: 0xAA + 命令类型 + 参数1 + 参数2
```

### 主要命令

- `0x01`: 设备检测（PING）
- `0x02`: 获取版本信息
- `0x03`: 重置设备
- `0x10`: 设置PWM值
- `0x11`: 设置PWM频率
- `0x12`: 设置衰减模式
- `0x13`: 设置旋转方向
- `0x14`: 设置混控模式

## 故障排除

### 无法连接设备

- 确认设备已正确连接到计算机
- 验证选择了正确的串口和波特率
- 检查设备驱动是否正确安装
- 尝试重新插拔USB连接

### 电机不响应命令

- 检查连接状态是否正常
- 确认电机电源是否接通
- 尝试重置设备
- 检查通信日志中是否有错误信息

## 开发者信息

### 项目结构

- `main.js`: Electron主进程
- `preload.js`: 预加载脚本，提供安全的IPC通信
- `renderer.js`: 渲染进程，处理UI交互
- `serial.js`: 串口通信管理
- `index.html`: 主界面
- `styles.css`: 样式表

### 技术栈

- Electron: 跨平台桌面应用框架
- SerialPort: Node.js串口通信库
- HTML/CSS/JavaScript: 前端界面

## 许可证

本项目采用MIT许可证。详情请参阅LICENSE文件。

## 联系方式

如有问题或建议，请联系：support@example.com